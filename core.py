# ALL CORE FUNCTIONS ARE DEFINED HERE